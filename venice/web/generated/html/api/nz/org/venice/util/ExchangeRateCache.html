<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_22) on Sun May 23 13:22:59 EST 2010 -->
<TITLE>
ExchangeRateCache (Venice 0.72alpha)
</TITLE>

<META NAME="keywords" CONTENT="nz.org.venice.util.ExchangeRateCache class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ExchangeRateCache (Venice 0.72alpha)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Venice 0.72alpha</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../nz/org/venice/util/ExchangeRate.html" title="class in nz.org.venice.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../nz/org/venice/util/Find.html" title="class in nz.org.venice.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ExchangeRateCache.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
nz.org.venice.util</FONT>
<BR>
Class ExchangeRateCache</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><B>nz.org.venice.util.ExchangeRateCache</B>
</PRE>
<HR>
<DL>
<DT>public class <B>ExchangeRateCache</B><DT>extends java.lang.Object</DL>

<P>
Cache of exchange rates. This class caches exchange rates in memory from the
 database. It is also responsible for importing the exchange rates, saving them
 into the database, loading them from database, and querying the user for
 exchange rates. It also provides helper functions to make performing cross-currency
 calculations easier.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Andrew Leppard</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/org/venice/util/ExchangeRateCache.html#add(nz.org.venice.util.TradingDate, nz.org.venice.util.Money, nz.org.venice.util.Money)">add</A></B>(<A HREF="../../../../nz/org/venice/util/TradingDate.html" title="class in nz.org.venice.util">TradingDate</A>&nbsp;date,
    <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;destinationMoney,
    <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;sourceMoney)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the two given monies. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/org/venice/util/ExchangeRateCache.html#exchange(nz.org.venice.util.TradingDate, nz.org.venice.util.Money, nz.org.venice.util.Currency)">exchange</A></B>(<A HREF="../../../../nz/org/venice/util/TradingDate.html" title="class in nz.org.venice.util">TradingDate</A>&nbsp;date,
         <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;money,
         <A HREF="../../../../nz/org/venice/util/Currency.html" title="class in nz.org.venice.util">Currency</A>&nbsp;currency)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exchange the given money for the given currency. </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../nz/org/venice/util/ExchangeRateCache.html" title="class in nz.org.venice.util">ExchangeRateCache</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/org/venice/util/ExchangeRateCache.html#getInstance()">getInstance</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create or return the singleton instance of the exchange rate cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;double</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/org/venice/util/ExchangeRateCache.html#getRate(nz.org.venice.util.TradingDate, nz.org.venice.util.Currency, nz.org.venice.util.Currency)">getRate</A></B>(<A HREF="../../../../nz/org/venice/util/TradingDate.html" title="class in nz.org.venice.util">TradingDate</A>&nbsp;date,
        <A HREF="../../../../nz/org/venice/util/Currency.html" title="class in nz.org.venice.util">Currency</A>&nbsp;sourceCurrency,
        <A HREF="../../../../nz/org/venice/util/Currency.html" title="class in nz.org.venice.util">Currency</A>&nbsp;destinationCurrency)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the exchange rate between the two currencies on the given date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/org/venice/util/ExchangeRateCache.html#setDesktopPane(javax.swing.JDesktopPane)">setDesktopPane</A></B>(javax.swing.JDesktopPane&nbsp;desktopPane)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inform the exchange rate cache of the desktop which will be used
 to display dialogs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/org/venice/util/ExchangeRateCache.html#subtract(nz.org.venice.util.TradingDate, nz.org.venice.util.Money, nz.org.venice.util.Money)">subtract</A></B>(<A HREF="../../../../nz/org/venice/util/TradingDate.html" title="class in nz.org.venice.util">TradingDate</A>&nbsp;date,
         <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;destinationMoney,
         <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;sourceMoney)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Subtract the two given monies. </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getInstance()"><!-- --></A><H3>
getInstance</H3>
<PRE>
public static <A HREF="../../../../nz/org/venice/util/ExchangeRateCache.html" title="class in nz.org.venice.util">ExchangeRateCache</A> <B>getInstance</B>()</PRE>
<DL>
<DD>Create or return the singleton instance of the exchange rate cache.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>singleton instance of this class</DL>
</DD>
</DL>
<HR>

<A NAME="setDesktopPane(javax.swing.JDesktopPane)"><!-- --></A><H3>
setDesktopPane</H3>
<PRE>
public void <B>setDesktopPane</B>(javax.swing.JDesktopPane&nbsp;desktopPane)</PRE>
<DL>
<DD>Inform the exchange rate cache of the desktop which will be used
 to display dialogs.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>desktopPane</CODE> - the desktop pane to use</DL>
</DD>
</DL>
<HR>

<A NAME="getRate(nz.org.venice.util.TradingDate, nz.org.venice.util.Currency, nz.org.venice.util.Currency)"><!-- --></A><H3>
getRate</H3>
<PRE>
public double <B>getRate</B>(<A HREF="../../../../nz/org/venice/util/TradingDate.html" title="class in nz.org.venice.util">TradingDate</A>&nbsp;date,
                      <A HREF="../../../../nz/org/venice/util/Currency.html" title="class in nz.org.venice.util">Currency</A>&nbsp;sourceCurrency,
                      <A HREF="../../../../nz/org/venice/util/Currency.html" title="class in nz.org.venice.util">Currency</A>&nbsp;destinationCurrency)</PRE>
<DL>
<DD>Return the exchange rate between the two currencies on the given date.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>date</CODE> - the date for the exchange<DD><CODE>sourceCurrency</CODE> - the source currency to convert from<DD><CODE>destinationCurrency</CODE> - the destination currency to convert to</DL>
</DD>
</DL>
<HR>

<A NAME="add(nz.org.venice.util.TradingDate, nz.org.venice.util.Money, nz.org.venice.util.Money)"><!-- --></A><H3>
add</H3>
<PRE>
public <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A> <B>add</B>(<A HREF="../../../../nz/org/venice/util/TradingDate.html" title="class in nz.org.venice.util">TradingDate</A>&nbsp;date,
                 <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;destinationMoney,
                 <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;sourceMoney)</PRE>
<DL>
<DD>Add the two given monies. This function will perform currency conversion
 if necessary.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>date</CODE> - the date for the exchange<DD><CODE>destinationMoney</CODE> - the "destination" money.<DD><CODE>sourceMoney</CODE> - the "source" money
<DT><B>Returns:</B><DD>the sum of the two monies in the same currency as the "destination" money.</DL>
</DD>
</DL>
<HR>

<A NAME="subtract(nz.org.venice.util.TradingDate, nz.org.venice.util.Money, nz.org.venice.util.Money)"><!-- --></A><H3>
subtract</H3>
<PRE>
public <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A> <B>subtract</B>(<A HREF="../../../../nz/org/venice/util/TradingDate.html" title="class in nz.org.venice.util">TradingDate</A>&nbsp;date,
                      <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;destinationMoney,
                      <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;sourceMoney)</PRE>
<DL>
<DD>Subtract the two given monies. The "source" money will be subtracted from
 the "destination" money. This function will perform currency conversion
 if necessary.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>date</CODE> - the date for the exchange<DD><CODE>destinationMoney</CODE> - the "destination" money.<DD><CODE>sourceMoney</CODE> - the "source" money
<DT><B>Returns:</B><DD>the subtraction of "source" money from "destination" money in the same
         currency as the "destination" money.</DL>
</DD>
</DL>
<HR>

<A NAME="exchange(nz.org.venice.util.TradingDate, nz.org.venice.util.Money, nz.org.venice.util.Currency)"><!-- --></A><H3>
exchange</H3>
<PRE>
public <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A> <B>exchange</B>(<A HREF="../../../../nz/org/venice/util/TradingDate.html" title="class in nz.org.venice.util">TradingDate</A>&nbsp;date,
                      <A HREF="../../../../nz/org/venice/util/Money.html" title="class in nz.org.venice.util">Money</A>&nbsp;money,
                      <A HREF="../../../../nz/org/venice/util/Currency.html" title="class in nz.org.venice.util">Currency</A>&nbsp;currency)</PRE>
<DL>
<DD>Exchange the given money for the given currency. Use the exchange rate that
 is valid on the given date.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>date</CODE> - the date for the exchange<DD><CODE>money</CODE> - the money to convert<DD><CODE>currency</CODE> - the currency to convert to
<DT><B>Returns:</B><DD>the converted currency.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Venice 0.72alpha</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../nz/org/venice/util/ExchangeRate.html" title="class in nz.org.venice.util"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../nz/org/venice/util/Find.html" title="class in nz.org.venice.util"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ExchangeRateCache.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
