<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_22) on Sun May 23 13:22:57 EST 2010 -->
<TITLE>
Parser (Venice 0.72alpha)
</TITLE>

<META NAME="keywords" CONTENT="nz.org.venice.parser.Parser class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Parser (Venice 0.72alpha)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Venice 0.72alpha</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../nz/org/venice/parser/ImplicitVariables.html" title="class in nz.org.venice.parser"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../nz/org/venice/parser/ParserException.html" title="class in nz.org.venice.parser"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Parser.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
nz.org.venice.parser</FONT>
<BR>
Class Parser</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><B>nz.org.venice.parser.Parser</B>
</PRE>
<HR>
<DL>
<DT>public class <B>Parser</B><DT>extends java.lang.Object</DL>

<P>
Parse a string into an executable expression. This class acts as
 a gatekeeper to the <i>Gondala</i> language which is used to perform
 manipulations on stock market quotes.
 <p>
 <h2>Langauge EBNF</h2>
 <pre>

 ROOT_EXPR         = [SUB_EXPR]+
 EXPR              = SUB_EXPR | "{" [SUB_EXPR]+ "}"
 SUB_EXPR          = BOOLEAN_EXPR [ LOGIC BOOLEAN_EXPR ]
 LOGIC             = "and" | "or"
 BOOLEAN_EXPR      = ADD_EXPR [ RELATION ADD_EXPR ]
 RELATION          = "==" | "<=" | ">=" | "<" | ">" | "!="
 ADD_EXPR          = MULTIPLY_EXPR [ ADD_OPERATOR MULTIPLY_EXPR ]
 ADD_OPERATOR      = "-" | "+"
 MULTIPLY_EXPR     = FACTOR [ MULTIPLY_OPERATOR FACTOR ]
 MULTIPLY_OPERATOR = "*" | "/"
 FACTOR            = STRING | VARIABLE | NUMBER | FUNCTION | FLOW_CONTROL | QUOTE | "(" SUB_EXPR ")"
 STRING            = "{a-zA-Z0-9}*"
 NUMBER            = ["-"]{0-9}+ ["." {0-9}+] | "true" | "false"
 VARIABLE_NAME     = {a-zA-Z}{a-zA-Z0-9_}*
 TYPE              = "boolean" | "float" | "int"
 VARIABLE          = [["const"] [TYPE]] VARIABLE_NAME ["=" SUB_EXPR]
 QUOTE             = "open" | "close" | "low" | "high" | "volume"
 FUNCTION          = "lag" "(" QUOTE ["," SUB_EXPR] ")" |
                     "min" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "max" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "avg" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "sd" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "sum" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "rsi" "(" [SUB_EXPR ["," SUB_EXPR]] ")" |
                     "not" "(" SUB_EXPR ")" |
                     "percent" "(" SUB_EXPR "," SUB_EXPR ")" |
                     "dayofweek" "(" ")" |
                     "dayofyear" "(" ")" |
                     "day" "(" ")"       |
                     "month" "(" ")"     |
                     "year" "(" ")"      |
                     "sqrt" "(" SUB_EXPR ")" |
                     "abs" "(" SUB_EXPR ")" |
                     "corr" "(" STRING "," QUOTE "," SUB_EXPR ["," SUB_EXPR] ")"
                     "ema" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ["," SUB_EXPR] ")"
                     "bol_lower" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "bol_upper" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "macd" "(" QUOTE ["," SUB_EXPR] ")" |
                     "momentum" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "obv" "(" SUB_EXPR ["," SUB_EXPR] ["," SUB_EXPR] ")" |
                     "sd" "(" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")" |
                     "sin" "(" SUB_EXPR ")" |
                     "cos" "(" SUB_EXPR ")" |
                     "log" "(" SUB_EXPR ")" |
                     "exp" "(" SUB_EXPR ")" |
                     "dayfromstart" "(" ")" |
                     "capital" "(" ")" |
                     "stockcapital" "(" ")" |
                     "random" "(" ")"       |
                     "trend" (" QUOTE "," SUB_EXPR ["," SUB_EXPR] ")"
 FLOW_CONTROL      = "if"  "(" SUB_EXPR ")" EXPR "else" EXPR |
                     "for" "(" SUB_EXPR ";" SUB_EXPR ";" SUB_EXPR ")" EXPR |
                     "while" "(" SUB_EXPR ")" EXPR
 </pre>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Andrew Leppard</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->


<!-- ======== CONSTRUCTOR SUMMARY ======== -->


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../nz/org/venice/parser/Expression.html" title="interface in nz.org.venice.parser">Expression</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/org/venice/parser/Parser.html#parse(java.lang.String)">parse</A></B>(java.lang.String&nbsp;string)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parse the given string into an executable expression.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="../../../../nz/org/venice/parser/Expression.html" title="interface in nz.org.venice.parser">Expression</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../nz/org/venice/parser/Parser.html#parse(nz.org.venice.parser.Variables, java.lang.String)">parse</A></B>(<A HREF="../../../../nz/org/venice/parser/Variables.html" title="class in nz.org.venice.parser">Variables</A>&nbsp;variables,
      java.lang.String&nbsp;string)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parse the given string into an executable expression. </TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="parse(nz.org.venice.parser.Variables, java.lang.String)"><!-- --></A><H3>
parse</H3>
<PRE>
public static <A HREF="../../../../nz/org/venice/parser/Expression.html" title="interface in nz.org.venice.parser">Expression</A> <B>parse</B>(<A HREF="../../../../nz/org/venice/parser/Variables.html" title="class in nz.org.venice.parser">Variables</A>&nbsp;variables,
                               java.lang.String&nbsp;string)
                        throws <A HREF="../../../../nz/org/venice/parser/ExpressionException.html" title="class in nz.org.venice.parser">ExpressionException</A></PRE>
<DL>
<DD>Parse the given string into an executable expression. The first
 argument allows you to parse any predefined variables which are
 available to the expression. Any variables defined by the
 expression will be added to this.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>variables</CODE> - any predefined variables.<DD><CODE>string</CODE> - the string to parse.
<DT><B>Returns:</B><DD>the parsed expression.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/org/venice/parser/ExpressionException.html" title="class in nz.org.venice.parser">ExpressionException</A></CODE> - if there was an error parsing the expression.</DL>
</DD>
</DL>
<HR>

<A NAME="parse(java.lang.String)"><!-- --></A><H3>
parse</H3>
<PRE>
public static <A HREF="../../../../nz/org/venice/parser/Expression.html" title="interface in nz.org.venice.parser">Expression</A> <B>parse</B>(java.lang.String&nbsp;string)
                        throws <A HREF="../../../../nz/org/venice/parser/ExpressionException.html" title="class in nz.org.venice.parser">ExpressionException</A></PRE>
<DL>
<DD>Parse the given string into an executable expression.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>string</CODE> - the string to parse.
<DT><B>Returns:</B><DD>the parsed expression.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../nz/org/venice/parser/ExpressionException.html" title="class in nz.org.venice.parser">ExpressionException</A></CODE> - if there was an error parsing the expression.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Venice 0.72alpha</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../nz/org/venice/parser/ImplicitVariables.html" title="class in nz.org.venice.parser"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../nz/org/venice/parser/ParserException.html" title="class in nz.org.venice.parser"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Parser.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
